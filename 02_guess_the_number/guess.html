<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the number</title>
    <style>

    </style>
</head>

<body style="background-color: black; color: wheat;">
    <h1>Number guessing game</h1>
    <p>We have selected a random number between 1 and 100. See if you can guess it in 10 turns or fewer. We'll tell you
        if your guess was too high or too low.</p>

    <!-- id:

Uniquely identifies a single element in the HTML document.
Should be used only once per page.
Used for direct selection in JavaScript and for linking with labels.
class:

Can be shared by multiple elements.
Used for grouping elements for styling (CSS) or selection (JavaScript). -->
    <div class="form">

        <label for="guessField">Enter a guess:</label>
        <input type="number" min="1" max="100" id="guessField" class="guessField" required>
        <input type="submit" value="Submit Guess" class="guessSubmit">

    </div>
    <div class="resultParas">
        <p class="guesses"></p>
        <p class="lastResult"></p>
        <p class="lowOrHi"></p>
    </div>
    <script>
        let RandomNum = Math.floor(Math.random() * 100) + 1;

        const guesses = document.querySelector(".guesses");
        const lastResult = document.querySelector(".lastResult");
        const lowOrHi = document.querySelector(".lowOrHi");

        const guessSubmit = document.querySelector(".guessSubmit");
        const guessField = document.querySelector(".guessField");

        let guessCount = 1;
        let resetButton;



        function checkguess() {

            const userGuess = Number(guessField.value);
            if (guessCount == 1) {
                guesses.textContent = "Previous Guesses:";
            }
            guesses.textContent = `${guesses.textContent} ${userGuess}`;

            if (userGuess === RandomNum) {
                lastResult.textContent = "Congratulations! You got it right!";
                lastResult.style.backgroundColor = "green";
                lowOrHi.textContent = "";
                setGameOver();
            }
            else if (guessCount == 10) {
                lastResult.textContent = "!!!GAME OVER!!!";
                lastResult.style.backgroundColor = "Red";
                lowOrHi.textContent = "";
                setGameOver();
            }
            else {
                lastResult.textContent = "Wrong!";
                lastResult.style.backgroundColor = "Red";

                if (userGuess > RandomNum) {
                    lowOrHi.textContent = "Last guess was too high!";

                }
                if (userGuess < RandomNum) {
                    lowOrHi.textContent = "Last guess was too low!";

                }

            }
            guessCount++;
            guessField.value = ""; //empties the guess field
            guessField.focus(); //focusses again on the guess field for the next field to be entered 
        }

        guessSubmit.addEventListener("click", checkguess);

        function setGameOver() {
            guessField.disabled = true;
            guessSubmit.disabled = true;

            resetButton = document.createElement("button");
            resetButton.textContent = "Start a new game ! ";

            document.body.append(resetButton);
            resetButton.addEventListener("click", startNewGame);
        }

        function startNewGame() {

            guessCount = 1;

            const resetParas = document.querySelectorAll(".resultParas p")
            for (const resetPara of resetParas) {
                resetPara.textContent = "";
            }

            resetButton.parentNode.removeChild(resetButton);

            guessField.disabled = false;
            guessSubmit.disabled = false;
            guessField.value = ""; //empties the guess field
            guessField.focus(); //focusses again on the guess field for the next field to be entered 

            lastResult.style.backgroundColor = "white";
            RandomNum = Math.floor(Math.random() * 100) + 1;
        }
    </script>
</body>

</html>